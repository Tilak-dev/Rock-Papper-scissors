<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project</title>
  <style>
    body {
      text-align: center;
      background-color: aquamarine;
      box-sizing: border-box;
      font-family: monospace;
      font-size: 20px;
    }

    p.yes {
      font-size: 25px;
      font-weight: 600;
    }

    button {
      cursor: pointer;
    }

    img {
      border-radius: 50%;
      padding: 10px;

    }

    .reset-btn,
    .auto-play {
      border-radius: 50px;
      padding: 8px 13px;
      background-color: greenyellow;
      border: 1px solid black;

    }
  </style>
</head>

<body>
  <p class="yes">
    Rock Paper Scissors
  </p>

  <img src="image/ROCK.jpg" alt="rock" height="170px" onclick="
    playGame('Scissors')
    ">
  <img src="image/PAPER.jpg" alt="paper" height="170px" onclick="
    playGame('Scissors')
    ">


  <img src="image/SCISSORS.jpg" alt="Scissors" height="170px" onclick="
    playGame('Scissors')
    ">
  <!-- <button onclick=" class="scissors-btn"
    
    ">Scissors</button> -->
  <p class="js-result"></p>
  <p class="para" onclick="
    "></p>

  <p class="js-move"></p>
  <button class="reset-btn" onclick="
    score.Wons = 0;
    score.Losses = 0;
    score.Ties = 0;
    updateScroreElement();
    // localStorage.removeItem('score');
    ">Reset Scores</button>
  <button class="auto-play" onclick="
    autoPlay();
    ">Auto Play</button>
  <script>
    let score = JSON.parse(localStorage.getItem('scores'))
      || {
      Wons: 0,//default value
      Losses: 0,//default value
      Ties: 0 //default value
    };
    let isAutoPlaying = false;
    let intervalId;
    function autoPlay() {
      if (!isAutoPlaying) {
        intervalId = setInterval(() => {
          const playerMove = rpsbox();
          playGame(playerMove);
        }, 1000);
        isAutoPlaying = true;
      }
      else {
        clearInterval(intervalId);
        isAutoPlaying = false;
      }
    }


    document.body.addEventListener('keydown', (event) => {
      if (event.key === 'r') {
        playGame('Rock');
      } else if (event.key === 'p') {
        playGame('Paper')
      } else if (event.key === 's') {
        playGame('Scissors')
      }
    });
    function playGame(playerMove) {
      const computerMove = rpsbox();
      let result = '';
      if (playerMove === 'Rock') {
        if (computerMove === 'Rock') {
          result = 'Tie';
        } else if (computerMove === 'Paper') {
          result = 'better luck next time'
        } else if (computerMove === 'Scissors') {
          result = 'Congrates you won'
        }
      } else if (playerMove === 'Paper') {
        if (computerMove === 'Paper') {
          result = 'Tie..';
        } else if (computerMove === 'Scissors') {
          result = 'better luck next time'
        } else if (computerMove === 'Rock') {
          result = 'Congrates you won'
        }
      } else if (playerMove === 'Scissors') {
        if (computerMove === 'Scissors') {
          result = 'Tie';
        } else if (computerMove === 'Rock') {
          result = 'better luck next time'
        } else if (computerMove === 'Paper') {
          result = 'Congrates you won'
        }
      }
      if (result === 'Congrates you won') {
        score.Wons += 1;
      } else if (result === 'better luck next time') {
        score.Losses += 1;
      } else if (result === 'Tie') {
        score.Ties += 1;
      }

      localStorage.setItem('scores', JSON.stringify(score));
      updateScroreElement();
      document.querySelector('.js-result').innerHTML = result;
      document.querySelector('.js-move').innerHTML = `You picked ${playerMove} - Computer picked  ${computerMove}`;
    }

    function updateScroreElement() {
      document.querySelector('.para').innerHTML = `Wons: ${score.Wons},Losses: ${score.Losses},Ties: ${score.Ties}`;
    }
    function rpsbox() {
      const randomNumber = Math.random();
      // console.log(randomNumber)
      let computerMove = '';
      if (randomNumber >= 0 && randomNumber < 1 / 3) {
        computerMove = 'Rock';
      } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
        computerMove = 'Paper';
      } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
        computerMove = 'Scissors';
      }
      // console.log(computerMove);
      return computerMove;
    }
  </script>
</body>

</html>